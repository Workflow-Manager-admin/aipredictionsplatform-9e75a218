{"is_source_file": true, "format": "Python", "description": "This source file provides middleware and utility functions for handling JWT authentication within a Django web application, specifically for FusionAuth tokens. It includes middleware to enforce token validation on protected API routes, decorators for view functions, and stubs for token blacklisting support.", "external_files": ["django.utils.deprecation", "django.core.exceptions", "django.http", "./auth_utils"], "external_methods": ["validate_fusionauth_jwt"], "published": ["FusionAuthJWTMiddleware", "jwt_required", "is_token_blacklisted", "blacklist_token"], "classes": [{"name": "FusionAuthJWTMiddleware", "description": "Middleware class that enforces JWT validation on specific API routes, primarily those starting with /api/protected/. It extracts JWTs from request headers, validates them using a utility function, and attaches the claims to the request object."}], "methods": [{"name": "_extract_bearer_token(request)", "description": "Utility function that extracts the Bearer token from the Authorization header of the request.", "scope": "", "scopeKind": ""}, {"name": "jwt_required(view_func)", "description": "Decorator for views to enforce JWT validation, providing an alternative to middleware for function or class-based views.", "scope": "", "scopeKind": ""}, {"name": "is_token_blacklisted(token)", "description": "Stub function intended for checking if a given token has been blacklisted. To be implemented with a persistent store like Redis or a database.", "scope": "", "scopeKind": ""}, {"name": "blacklist_token(token)", "description": "Stub function intended for blacklisting a token, to be implemented with a persistent store for managing token revocation.", "scope": "", "scopeKind": ""}, {"name": "_wrapped_view(request, *args, **kwargs)", "scope": "jwt_required", "scopeKind": "function", "description": "unavailable"}, {"name": "process_view(self, request, view_func, view_args, view_kwargs)", "scope": "FusionAuthJWTMiddleware", "scopeKind": "class", "description": "unavailable"}], "calls": ["re.match", "validate_fusionauth_jwt", "JsonResponse", "request.path.startswith", "request.META.get", "permission_denied", "functools.wraps", "view_func", "is_token_blacklisted", "blacklist_token"], "search-terms": ["FusionAuth", "JWT middleware", "Django JWT authentication", "token validation", "protected API endpoints", "blacklist/refresh", "Authorization header parsing", "middleware class"], "state": 2, "file_id": 8, "knowledge_revision": 20, "git_revision": "e656ee21dc18d2f3afb72df48c44935a26e908ab", "ctags": [{"_type": "tag", "name": "FusionAuthJWTMiddleware", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^class FusionAuthJWTMiddleware(MiddlewareMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_extract_bearer_token", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^def _extract_bearer_token(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "_wrapped_view", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^    def _wrapped_view(request, *args, **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(request, *args, **kwargs)", "scope": "jwt_required", "scopeKind": "function"}, {"_type": "tag", "name": "blacklist_token", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^def blacklist_token(token):$/", "language": "Python", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "is_token_blacklisted", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^def is_token_blacklisted(token):$/", "language": "Python", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "jwt_required", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^def jwt_required(view_func):$/", "language": "Python", "kind": "function", "signature": "(view_func)"}, {"_type": "tag", "name": "process_view", "path": "/home/kavia/workspace/code-generation/aipredictionsplatform-9e75a218/Backend_API_Server/jwt_middleware.py", "pattern": "/^    def process_view(self, request, view_func, view_args, view_kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, request, view_func, view_args, view_kwargs)", "scope": "FusionAuthJWTMiddleware", "scopeKind": "class"}], "hash": "7a3dc71ec0c9b5af4fa9f79804bff038", "format-version": 4, "code-base-name": "Backend API Server", "filename": "Backend_API_Server/jwt_middleware.py", "revision_history": [{"20": "e656ee21dc18d2f3afb72df48c44935a26e908ab"}]}